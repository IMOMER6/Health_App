{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./json-schema-processors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"3WOd2OgWUBhfvZ0UHfVfCMoW2FQ=","exportNames":["*"],"imports":1}},{"name":"./to-json-schema.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}}],"key":"+jG0B09vt7vkDa65ivf1XmgJgIE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _excluded = [\"~standard\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"JSONSchemaGenerator\", {\n    enumerable: true,\n    get: function () {\n      return JSONSchemaGenerator;\n    }\n  });\n  var _babelRuntimeHelpersObjectWithoutProperties = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutProperties\");\n  var _objectWithoutProperties = _interopDefault(_babelRuntimeHelpersObjectWithoutProperties);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _jsonSchemaProcessorsJs = require(_dependencyMap[3], \"./json-schema-processors.js\");\n  var _toJsonSchemaJs = require(_dependencyMap[4], \"./to-json-schema.js\");\n  /**\n   * Legacy class-based interface for JSON Schema generation.\n   * This class wraps the new functional implementation to provide backward compatibility.\n   *\n   * @deprecated Use the `toJSONSchema` function instead for new code.\n   *\n   * @example\n   * ```typescript\n   * // Legacy usage (still supported)\n   * const gen = new JSONSchemaGenerator({ target: \"draft-07\" });\n   * gen.process(schema);\n   * const result = gen.emit(schema);\n   *\n   * // Preferred modern usage\n   * const result = toJSONSchema(schema, { target: \"draft-07\" });\n   * ```\n   */\n  var JSONSchemaGenerator = /*#__PURE__*/function () {\n    function JSONSchemaGenerator(params) {\n      (0, _classCallCheck.default)(this, JSONSchemaGenerator);\n      // Normalize target for internal context\n      var normalizedTarget = params?.target ?? \"draft-2020-12\";\n      if (normalizedTarget === \"draft-4\") normalizedTarget = \"draft-04\";\n      if (normalizedTarget === \"draft-7\") normalizedTarget = \"draft-07\";\n      this.ctx = (0, _toJsonSchemaJs.initializeContext)({\n        processors: _jsonSchemaProcessorsJs.allProcessors,\n        target: normalizedTarget,\n        ...(params?.metadata && {\n          metadata: params.metadata\n        }),\n        ...(params?.unrepresentable && {\n          unrepresentable: params.unrepresentable\n        }),\n        ...(params?.override && {\n          override: params.override\n        }),\n        ...(params?.io && {\n          io: params.io\n        })\n      });\n    }\n    /**\n     * Process a schema to prepare it for JSON Schema generation.\n     * This must be called before emit().\n     */\n    return (0, _createClass.default)(JSONSchemaGenerator, [{\n      key: \"metadataRegistry\",\n      get: /** @deprecated Access via ctx instead */\n      function () {\n        return this.ctx.metadataRegistry;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"target\",\n      get: function () {\n        return this.ctx.target;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"unrepresentable\",\n      get: function () {\n        return this.ctx.unrepresentable;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"override\",\n      get: function () {\n        return this.ctx.override;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"io\",\n      get: function () {\n        return this.ctx.io;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"counter\",\n      get: function () {\n        return this.ctx.counter;\n      },\n      set: function (value) {\n        this.ctx.counter = value;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"seen\",\n      get: function () {\n        return this.ctx.seen;\n      }\n    }, {\n      key: \"process\",\n      value: function process(schema) {\n        var _params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n          path: [],\n          schemaPath: []\n        };\n        return (0, _toJsonSchemaJs.process)(schema, this.ctx, _params);\n      }\n      /**\n       * Emit the final JSON Schema after processing.\n       * Must call process() first.\n       */\n    }, {\n      key: \"emit\",\n      value: function emit(schema, _params) {\n        // Apply emit params to the context\n        if (_params) {\n          if (_params.cycles) this.ctx.cycles = _params.cycles;\n          if (_params.reused) this.ctx.reused = _params.reused;\n          if (_params.external) this.ctx.external = _params.external;\n        }\n        (0, _toJsonSchemaJs.extractDefs)(this.ctx, schema);\n        var result = (0, _toJsonSchemaJs.finalize)(this.ctx, schema);\n        // Strip ~standard property to match old implementation's return type\n        var _ = result[\"~standard\"],\n          plainResult = (0, _objectWithoutProperties.default)(result, _excluded);\n        return plainResult;\n      }\n    }]);\n  }();\n});","lineCount":148,"map":[[13,2,20,0,"Object"],[13,8,20,0],[13,9,20,0,"defineProperty"],[13,23,20,0],[13,24,20,0,"exports"],[13,31,20,0],[14,4,20,0,"enumerable"],[14,14,20,0],[15,4,20,0,"get"],[15,7,20,0],[15,18,20,0,"get"],[15,19,20,0],[16,6,20,0],[16,13,20,0,"JSONSchemaGenerator"],[16,32,20,0],[17,4,20,0],[18,2,20,0],[19,2,95,1],[19,6,95,1,"_babelRuntimeHelpersObjectWithoutProperties"],[19,49,95,1],[19,52,95,1,"require"],[19,59,95,1],[19,60,95,1,"_dependencyMap"],[19,74,95,1],[20,2,95,1],[20,6,95,1,"_objectWithoutProperties"],[20,30,95,1],[20,33,95,1,"_interopDefault"],[20,48,95,1],[20,49,95,1,"_babelRuntimeHelpersObjectWithoutProperties"],[20,92,95,1],[21,2,95,1],[21,6,95,1,"_babelRuntimeHelpersClassCallCheck"],[21,40,95,1],[21,43,95,1,"require"],[21,50,95,1],[21,51,95,1,"_dependencyMap"],[21,65,95,1],[22,2,95,1],[22,6,95,1,"_classCallCheck"],[22,21,95,1],[22,24,95,1,"_interopDefault"],[22,39,95,1],[22,40,95,1,"_babelRuntimeHelpersClassCallCheck"],[22,74,95,1],[23,2,95,1],[23,6,95,1,"_babelRuntimeHelpersCreateClass"],[23,37,95,1],[23,40,95,1,"require"],[23,47,95,1],[23,48,95,1,"_dependencyMap"],[23,62,95,1],[24,2,95,1],[24,6,95,1,"_createClass"],[24,18,95,1],[24,21,95,1,"_interopDefault"],[24,36,95,1],[24,37,95,1,"_babelRuntimeHelpersCreateClass"],[24,68,95,1],[25,2,1,0],[25,6,1,0,"_jsonSchemaProcessorsJs"],[25,29,1,0],[25,32,1,0,"require"],[25,39,1,0],[25,40,1,0,"_dependencyMap"],[25,54,1,0],[26,2,2,0],[26,6,2,0,"_toJsonSchemaJs"],[26,21,2,0],[26,24,2,0,"require"],[26,31,2,0],[26,32,2,0,"_dependencyMap"],[26,46,2,0],[27,2,3,0],[28,0,4,0],[29,0,5,0],[30,0,6,0],[31,0,7,0],[32,0,8,0],[33,0,9,0],[34,0,10,0],[35,0,11,0],[36,0,12,0],[37,0,13,0],[38,0,14,0],[39,0,15,0],[40,0,16,0],[41,0,17,0],[42,0,18,0],[43,0,19,0],[44,2,3,0],[44,6,20,13,"JSONSchemaGenerator"],[44,25,20,32],[45,4,52,4],[45,13,52,4,"JSONSchemaGenerator"],[45,33,52,16,"params"],[45,39,52,22],[45,41,52,24],[46,6,52,24],[46,10,52,24,"_classCallCheck"],[46,25,52,24],[46,26,52,24,"default"],[46,33,52,24],[46,41,52,24,"JSONSchemaGenerator"],[46,60,52,24],[47,6,53,8],[48,6,54,8],[48,10,54,12,"normalizedTarget"],[48,26,54,28],[48,29,54,31,"params"],[48,35,54,37],[48,37,54,39,"target"],[48,43,54,45],[48,47,54,49],[48,62,54,64],[49,6,55,8],[49,10,55,12,"normalizedTarget"],[49,26,55,28],[49,31,55,33],[49,40,55,42],[49,42,56,12,"normalizedTarget"],[49,58,56,28],[49,61,56,31],[49,71,56,41],[50,6,57,8],[50,10,57,12,"normalizedTarget"],[50,26,57,28],[50,31,57,33],[50,40,57,42],[50,42,58,12,"normalizedTarget"],[50,58,58,28],[50,61,58,31],[50,71,58,41],[51,6,59,8],[51,10,59,12],[51,11,59,13,"ctx"],[51,14,59,16],[51,17,59,19],[51,21,59,19,"initializeContext"],[51,36,59,36],[51,37,59,36,"initializeContext"],[51,54,59,36],[51,56,59,37],[52,8,60,12,"processors"],[52,18,60,22],[52,20,60,24,"allProcessors"],[52,43,60,37],[52,44,60,37,"allProcessors"],[52,57,60,37],[53,8,61,12,"target"],[53,14,61,18],[53,16,61,20,"normalizedTarget"],[53,32,61,36],[54,8,62,12],[54,12,62,16,"params"],[54,18,62,22],[54,20,62,24,"metadata"],[54,28,62,32],[54,32,62,36],[55,10,62,38,"metadata"],[55,18,62,46],[55,20,62,48,"params"],[55,26,62,54],[55,27,62,55,"metadata"],[56,8,62,64],[56,9,62,65],[56,10,62,66],[57,8,63,12],[57,12,63,16,"params"],[57,18,63,22],[57,20,63,24,"unrepresentable"],[57,35,63,39],[57,39,63,43],[58,10,63,45,"unrepresentable"],[58,25,63,60],[58,27,63,62,"params"],[58,33,63,68],[58,34,63,69,"unrepresentable"],[59,8,63,85],[59,9,63,86],[59,10,63,87],[60,8,64,12],[60,12,64,16,"params"],[60,18,64,22],[60,20,64,24,"override"],[60,28,64,32],[60,32,64,36],[61,10,64,38,"override"],[61,18,64,46],[61,20,64,48,"params"],[61,26,64,54],[61,27,64,55,"override"],[62,8,64,64],[62,9,64,65],[62,10,64,66],[63,8,65,12],[63,12,65,16,"params"],[63,18,65,22],[63,20,65,24,"io"],[63,22,65,26],[63,26,65,30],[64,10,65,32,"io"],[64,12,65,34],[64,14,65,36,"params"],[64,20,65,42],[64,21,65,43,"io"],[65,8,65,46],[65,9,65,47],[66,6,66,8],[66,7,66,9],[66,8,66,10],[67,4,67,4],[68,4,68,4],[69,0,69,0],[70,0,70,0],[71,0,71,0],[72,4,68,4],[72,15,68,4,"_createClass"],[72,27,68,4],[72,28,68,4,"default"],[72,35,68,4],[72,37,68,4,"JSONSchemaGenerator"],[72,56,68,4],[73,6,68,4,"key"],[73,9,68,4],[74,6,68,4,"get"],[74,9,68,4],[74,11,21,4],[75,6,22,4],[75,15,22,4,"get"],[75,16,22,4],[75,18,22,27],[76,8,23,8],[76,15,23,15],[76,19,23,19],[76,20,23,20,"ctx"],[76,23,23,23],[76,24,23,24,"metadataRegistry"],[76,40,23,40],[77,6,24,4],[78,6,25,4],[79,4,25,4],[80,6,25,4,"key"],[80,9,25,4],[81,6,25,4,"get"],[81,9,25,4],[81,11,26,4],[81,20,26,4,"get"],[81,21,26,4],[81,23,26,17],[82,8,27,8],[82,15,27,15],[82,19,27,19],[82,20,27,20,"ctx"],[82,23,27,23],[82,24,27,24,"target"],[82,30,27,30],[83,6,28,4],[84,6,29,4],[85,4,29,4],[86,6,29,4,"key"],[86,9,29,4],[87,6,29,4,"get"],[87,9,29,4],[87,11,30,4],[87,20,30,4,"get"],[87,21,30,4],[87,23,30,26],[88,8,31,8],[88,15,31,15],[88,19,31,19],[88,20,31,20,"ctx"],[88,23,31,23],[88,24,31,24,"unrepresentable"],[88,39,31,39],[89,6,32,4],[90,6,33,4],[91,4,33,4],[92,6,33,4,"key"],[92,9,33,4],[93,6,33,4,"get"],[93,9,33,4],[93,11,34,4],[93,20,34,4,"get"],[93,21,34,4],[93,23,34,19],[94,8,35,8],[94,15,35,15],[94,19,35,19],[94,20,35,20,"ctx"],[94,23,35,23],[94,24,35,24,"override"],[94,32,35,32],[95,6,36,4],[96,6,37,4],[97,4,37,4],[98,6,37,4,"key"],[98,9,37,4],[99,6,37,4,"get"],[99,9,37,4],[99,11,38,4],[99,20,38,4,"get"],[99,21,38,4],[99,23,38,13],[100,8,39,8],[100,15,39,15],[100,19,39,19],[100,20,39,20,"ctx"],[100,23,39,23],[100,24,39,24,"io"],[100,26,39,26],[101,6,40,4],[102,6,41,4],[103,4,41,4],[104,6,41,4,"key"],[104,9,41,4],[105,6,41,4,"get"],[105,9,41,4],[105,11,42,4],[105,20,42,4,"get"],[105,21,42,4],[105,23,42,18],[106,8,43,8],[106,15,43,15],[106,19,43,19],[106,20,43,20,"ctx"],[106,23,43,23],[106,24,43,24,"counter"],[106,31,43,31],[107,6,44,4],[107,7,44,5],[108,6,44,5,"set"],[108,9,44,5],[108,11,45,4],[108,20,45,4,"set"],[108,21,45,16,"value"],[108,26,45,21],[108,28,45,23],[109,8,46,8],[109,12,46,12],[109,13,46,13,"ctx"],[109,16,46,16],[109,17,46,17,"counter"],[109,24,46,24],[109,27,46,27,"value"],[109,32,46,32],[110,6,47,4],[111,6,48,4],[112,4,48,4],[113,6,48,4,"key"],[113,9,48,4],[114,6,48,4,"get"],[114,9,48,4],[114,11,49,4],[114,20,49,4,"get"],[114,21,49,4],[114,23,49,15],[115,8,50,8],[115,15,50,15],[115,19,50,19],[115,20,50,20,"ctx"],[115,23,50,23],[115,24,50,24,"seen"],[115,28,50,28],[116,6,51,4],[117,4,51,5],[118,6,51,5,"key"],[118,9,51,5],[119,6,51,5,"value"],[119,11,51,5],[119,13,72,4],[119,22,72,4,"process"],[119,29,72,11,"process"],[119,30,72,12,"schema"],[119,36,72,18],[119,38,72,60],[120,8,72,60],[120,12,72,20,"_params"],[120,19,72,27],[120,22,72,27,"arguments"],[120,31,72,27],[120,32,72,27,"length"],[120,38,72,27],[120,46,72,27,"arguments"],[120,55,72,27],[120,63,72,27,"undefined"],[120,72,72,27],[120,75,72,27,"arguments"],[120,84,72,27],[120,90,72,30],[121,10,72,32,"path"],[121,14,72,36],[121,16,72,38],[121,18,72,40],[122,10,72,42,"schemaPath"],[122,20,72,52],[122,22,72,54],[123,8,72,57],[123,9,72,58],[124,8,73,8],[124,15,73,15],[124,19,73,15,"process"],[124,34,73,22],[124,35,73,22,"process"],[124,42,73,22],[124,44,73,23,"schema"],[124,50,73,29],[124,52,73,31],[124,56,73,35],[124,57,73,36,"ctx"],[124,60,73,39],[124,62,73,41,"_params"],[124,69,73,48],[124,70,73,49],[125,6,74,4],[126,6,75,4],[127,0,76,0],[128,0,77,0],[129,0,78,0],[130,4,75,4],[131,6,75,4,"key"],[131,9,75,4],[132,6,75,4,"value"],[132,11,75,4],[132,13,79,4],[132,22,79,4,"emit"],[132,26,79,8,"emit"],[132,27,79,9,"schema"],[132,33,79,15],[132,35,79,17,"_params"],[132,42,79,24],[132,44,79,26],[133,8,80,8],[134,8,81,8],[134,12,81,12,"_params"],[134,19,81,19],[134,21,81,21],[135,10,82,12],[135,14,82,16,"_params"],[135,21,82,23],[135,22,82,24,"cycles"],[135,28,82,30],[135,30,83,16],[135,34,83,20],[135,35,83,21,"ctx"],[135,38,83,24],[135,39,83,25,"cycles"],[135,45,83,31],[135,48,83,34,"_params"],[135,55,83,41],[135,56,83,42,"cycles"],[135,62,83,48],[136,10,84,12],[136,14,84,16,"_params"],[136,21,84,23],[136,22,84,24,"reused"],[136,28,84,30],[136,30,85,16],[136,34,85,20],[136,35,85,21,"ctx"],[136,38,85,24],[136,39,85,25,"reused"],[136,45,85,31],[136,48,85,34,"_params"],[136,55,85,41],[136,56,85,42,"reused"],[136,62,85,48],[137,10,86,12],[137,14,86,16,"_params"],[137,21,86,23],[137,22,86,24,"external"],[137,30,86,32],[137,32,87,16],[137,36,87,20],[137,37,87,21,"ctx"],[137,40,87,24],[137,41,87,25,"external"],[137,49,87,33],[137,52,87,36,"_params"],[137,59,87,43],[137,60,87,44,"external"],[137,68,87,52],[138,8,88,8],[139,8,89,8],[139,12,89,8,"extractDefs"],[139,27,89,19],[139,28,89,19,"extractDefs"],[139,39,89,19],[139,41,89,20],[139,45,89,24],[139,46,89,25,"ctx"],[139,49,89,28],[139,51,89,30,"schema"],[139,57,89,36],[139,58,89,37],[140,8,90,8],[140,12,90,14,"result"],[140,18,90,20],[140,21,90,23],[140,25,90,23,"finalize"],[140,40,90,31],[140,41,90,31,"finalize"],[140,49,90,31],[140,51,90,32],[140,55,90,36],[140,56,90,37,"ctx"],[140,59,90,40],[140,61,90,42,"schema"],[140,67,90,48],[140,68,90,49],[141,8,91,8],[142,8,92,8],[142,12,92,29,"_"],[142,13,92,30],[142,16,92,51,"result"],[142,22,92,57],[142,23,92,16],[142,34,92,27],[143,10,92,35,"plainResult"],[143,21,92,46],[143,28,92,46,"_objectWithoutProperties"],[143,52,92,46],[143,53,92,46,"default"],[143,60,92,46],[143,62,92,51,"result"],[143,68,92,57],[143,70,92,57,"_excluded"],[143,79,92,57],[144,8,93,8],[144,15,93,15,"plainResult"],[144,26,93,26],[145,6,94,4],[146,4,94,5],[147,2,94,5],[148,0,94,5],[148,3]],"functionMap":{"names":["<global>","JSONSchemaGenerator","JSONSchemaGenerator#get__metadataRegistry","JSONSchemaGenerator#get__target","JSONSchemaGenerator#get__unrepresentable","JSONSchemaGenerator#get__override","JSONSchemaGenerator#get__io","JSONSchemaGenerator#get__counter","JSONSchemaGenerator#set__counter","JSONSchemaGenerator#get__seen","JSONSchemaGenerator#constructor","JSONSchemaGenerator#process","JSONSchemaGenerator#emit"],"mappings":"AAA;OCmB;ICE;KDE;IEE;KFE;IGE;KHE;IIE;KJE;IKE;KLE;IME;KNE;IOC;KPE;IQE;KRE;ISC;KTe;IUK;KVE;IWK;KXe;CDC"},"hasCjsExports":false},"type":"js/module"}]}