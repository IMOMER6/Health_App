{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./json-schema-processors.cjs","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":36,"index":151},"end":{"line":4,"column":75,"index":190}}],"key":"wv8dYXCSDzregZcSb70NvYoRHQw=","exportNames":["*"],"imports":1}},{"name":"./to-json-schema.cjs","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":28,"index":220},"end":{"line":5,"column":59,"index":251}}],"key":"9UT19LaJjQtiK/FgU4vQ8ClMJuk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _objectWithoutProperties = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutProperties\").default;\n  var _classCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\").default;\n  var _excluded = [\"~standard\"];\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.JSONSchemaGenerator = void 0;\n  var json_schema_processors_js_1 = require(_dependencyMap[3], \"./json-schema-processors.cjs\");\n  var to_json_schema_js_1 = require(_dependencyMap[4], \"./to-json-schema.cjs\");\n  /**\n   * Legacy class-based interface for JSON Schema generation.\n   * This class wraps the new functional implementation to provide backward compatibility.\n   *\n   * @deprecated Use the `toJSONSchema` function instead for new code.\n   *\n   * @example\n   * ```typescript\n   * // Legacy usage (still supported)\n   * const gen = new JSONSchemaGenerator({ target: \"draft-07\" });\n   * gen.process(schema);\n   * const result = gen.emit(schema);\n   *\n   * // Preferred modern usage\n   * const result = toJSONSchema(schema, { target: \"draft-07\" });\n   * ```\n   */\n  var JSONSchemaGenerator = /*#__PURE__*/function () {\n    function JSONSchemaGenerator(params) {\n      _classCallCheck(this, JSONSchemaGenerator);\n      // Normalize target for internal context\n      var normalizedTarget = params?.target ?? \"draft-2020-12\";\n      if (normalizedTarget === \"draft-4\") normalizedTarget = \"draft-04\";\n      if (normalizedTarget === \"draft-7\") normalizedTarget = \"draft-07\";\n      this.ctx = (0, to_json_schema_js_1.initializeContext)({\n        processors: json_schema_processors_js_1.allProcessors,\n        target: normalizedTarget,\n        ...(params?.metadata && {\n          metadata: params.metadata\n        }),\n        ...(params?.unrepresentable && {\n          unrepresentable: params.unrepresentable\n        }),\n        ...(params?.override && {\n          override: params.override\n        }),\n        ...(params?.io && {\n          io: params.io\n        })\n      });\n    }\n    /**\n     * Process a schema to prepare it for JSON Schema generation.\n     * This must be called before emit().\n     */\n    return _createClass(JSONSchemaGenerator, [{\n      key: \"metadataRegistry\",\n      get: /** @deprecated Access via ctx instead */\n      function () {\n        return this.ctx.metadataRegistry;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"target\",\n      get: function () {\n        return this.ctx.target;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"unrepresentable\",\n      get: function () {\n        return this.ctx.unrepresentable;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"override\",\n      get: function () {\n        return this.ctx.override;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"io\",\n      get: function () {\n        return this.ctx.io;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"counter\",\n      get: function () {\n        return this.ctx.counter;\n      },\n      set: function (value) {\n        this.ctx.counter = value;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"seen\",\n      get: function () {\n        return this.ctx.seen;\n      }\n    }, {\n      key: \"process\",\n      value: function process(schema) {\n        var _params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n          path: [],\n          schemaPath: []\n        };\n        return (0, to_json_schema_js_1.process)(schema, this.ctx, _params);\n      }\n      /**\n       * Emit the final JSON Schema after processing.\n       * Must call process() first.\n       */\n    }, {\n      key: \"emit\",\n      value: function emit(schema, _params) {\n        // Apply emit params to the context\n        if (_params) {\n          if (_params.cycles) this.ctx.cycles = _params.cycles;\n          if (_params.reused) this.ctx.reused = _params.reused;\n          if (_params.external) this.ctx.external = _params.external;\n        }\n        (0, to_json_schema_js_1.extractDefs)(this.ctx, schema);\n        var result = (0, to_json_schema_js_1.finalize)(this.ctx, schema);\n        // Strip ~standard property to match old implementation's return type\n        var _ = result[\"~standard\"],\n          plainResult = _objectWithoutProperties(result, _excluded);\n        return plainResult;\n      }\n    }]);\n  }();\n  exports.JSONSchemaGenerator = JSONSchemaGenerator;\n});","lineCount":136,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_objectWithoutProperties"],[4,30,1,13],[4,33,1,13,"require"],[4,40,1,13],[4,41,1,13,"_dependencyMap"],[4,55,1,13],[4,110,1,13,"default"],[4,117,1,13],[5,2,1,13],[5,6,1,13,"_classCallCheck"],[5,21,1,13],[5,24,1,13,"require"],[5,31,1,13],[5,32,1,13,"_dependencyMap"],[5,46,1,13],[5,92,1,13,"default"],[5,99,1,13],[6,2,1,13],[6,6,1,13,"_createClass"],[6,18,1,13],[6,21,1,13,"require"],[6,28,1,13],[6,29,1,13,"_dependencyMap"],[6,43,1,13],[6,86,1,13,"default"],[6,93,1,13],[7,2,1,13],[7,6,1,13,"_excluded"],[7,15,1,13],[8,2,2,0,"Object"],[8,8,2,6],[8,9,2,7,"defineProperty"],[8,23,2,21],[8,24,2,22,"exports"],[8,31,2,29],[8,33,2,31],[8,45,2,43],[8,47,2,45],[9,4,2,47,"value"],[9,9,2,52],[9,11,2,54],[10,2,2,59],[10,3,2,60],[10,4,2,61],[11,2,3,0,"exports"],[11,9,3,7],[11,10,3,8,"JSONSchemaGenerator"],[11,29,3,27],[11,32,3,30],[11,37,3,35],[11,38,3,36],[12,2,4,0],[12,6,4,6,"json_schema_processors_js_1"],[12,33,4,33],[12,36,4,36,"require"],[12,43,4,43],[12,44,4,43,"_dependencyMap"],[12,58,4,43],[12,93,4,74],[12,94,4,75],[13,2,5,0],[13,6,5,6,"to_json_schema_js_1"],[13,25,5,25],[13,28,5,28,"require"],[13,35,5,35],[13,36,5,35,"_dependencyMap"],[13,50,5,35],[13,77,5,58],[13,78,5,59],[14,2,6,0],[15,0,7,0],[16,0,8,0],[17,0,9,0],[18,0,10,0],[19,0,11,0],[20,0,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[25,0,17,0],[26,0,18,0],[27,0,19,0],[28,0,20,0],[29,0,21,0],[30,0,22,0],[31,2,6,0],[31,6,23,6,"JSONSchemaGenerator"],[31,25,23,25],[32,4,55,4],[32,13,55,4,"JSONSchemaGenerator"],[32,33,55,16,"params"],[32,39,55,22],[32,41,55,24],[33,6,55,24,"_classCallCheck"],[33,21,55,24],[33,28,55,24,"JSONSchemaGenerator"],[33,47,55,24],[34,6,56,8],[35,6,57,8],[35,10,57,12,"normalizedTarget"],[35,26,57,28],[35,29,57,31,"params"],[35,35,57,37],[35,37,57,39,"target"],[35,43,57,45],[35,47,57,49],[35,62,57,64],[36,6,58,8],[36,10,58,12,"normalizedTarget"],[36,26,58,28],[36,31,58,33],[36,40,58,42],[36,42,59,12,"normalizedTarget"],[36,58,59,28],[36,61,59,31],[36,71,59,41],[37,6,60,8],[37,10,60,12,"normalizedTarget"],[37,26,60,28],[37,31,60,33],[37,40,60,42],[37,42,61,12,"normalizedTarget"],[37,58,61,28],[37,61,61,31],[37,71,61,41],[38,6,62,8],[38,10,62,12],[38,11,62,13,"ctx"],[38,14,62,16],[38,17,62,19],[38,18,62,20],[38,19,62,21],[38,21,62,23,"to_json_schema_js_1"],[38,40,62,42],[38,41,62,43,"initializeContext"],[38,58,62,60],[38,60,62,62],[39,8,63,12,"processors"],[39,18,63,22],[39,20,63,24,"json_schema_processors_js_1"],[39,47,63,51],[39,48,63,52,"allProcessors"],[39,61,63,65],[40,8,64,12,"target"],[40,14,64,18],[40,16,64,20,"normalizedTarget"],[40,32,64,36],[41,8,65,12],[41,12,65,16,"params"],[41,18,65,22],[41,20,65,24,"metadata"],[41,28,65,32],[41,32,65,36],[42,10,65,38,"metadata"],[42,18,65,46],[42,20,65,48,"params"],[42,26,65,54],[42,27,65,55,"metadata"],[43,8,65,64],[43,9,65,65],[43,10,65,66],[44,8,66,12],[44,12,66,16,"params"],[44,18,66,22],[44,20,66,24,"unrepresentable"],[44,35,66,39],[44,39,66,43],[45,10,66,45,"unrepresentable"],[45,25,66,60],[45,27,66,62,"params"],[45,33,66,68],[45,34,66,69,"unrepresentable"],[46,8,66,85],[46,9,66,86],[46,10,66,87],[47,8,67,12],[47,12,67,16,"params"],[47,18,67,22],[47,20,67,24,"override"],[47,28,67,32],[47,32,67,36],[48,10,67,38,"override"],[48,18,67,46],[48,20,67,48,"params"],[48,26,67,54],[48,27,67,55,"override"],[49,8,67,64],[49,9,67,65],[49,10,67,66],[50,8,68,12],[50,12,68,16,"params"],[50,18,68,22],[50,20,68,24,"io"],[50,22,68,26],[50,26,68,30],[51,10,68,32,"io"],[51,12,68,34],[51,14,68,36,"params"],[51,20,68,42],[51,21,68,43,"io"],[52,8,68,46],[52,9,68,47],[53,6,69,8],[53,7,69,9],[53,8,69,10],[54,4,70,4],[55,4,71,4],[56,0,72,0],[57,0,73,0],[58,0,74,0],[59,4,71,4],[59,11,71,4,"_createClass"],[59,23,71,4],[59,24,71,4,"JSONSchemaGenerator"],[59,43,71,4],[60,6,71,4,"key"],[60,9,71,4],[61,6,71,4,"get"],[61,9,71,4],[61,11,24,4],[62,6,25,4],[62,15,25,4,"get"],[62,16,25,4],[62,18,25,27],[63,8,26,8],[63,15,26,15],[63,19,26,19],[63,20,26,20,"ctx"],[63,23,26,23],[63,24,26,24,"metadataRegistry"],[63,40,26,40],[64,6,27,4],[65,6,28,4],[66,4,28,4],[67,6,28,4,"key"],[67,9,28,4],[68,6,28,4,"get"],[68,9,28,4],[68,11,29,4],[68,20,29,4,"get"],[68,21,29,4],[68,23,29,17],[69,8,30,8],[69,15,30,15],[69,19,30,19],[69,20,30,20,"ctx"],[69,23,30,23],[69,24,30,24,"target"],[69,30,30,30],[70,6,31,4],[71,6,32,4],[72,4,32,4],[73,6,32,4,"key"],[73,9,32,4],[74,6,32,4,"get"],[74,9,32,4],[74,11,33,4],[74,20,33,4,"get"],[74,21,33,4],[74,23,33,26],[75,8,34,8],[75,15,34,15],[75,19,34,19],[75,20,34,20,"ctx"],[75,23,34,23],[75,24,34,24,"unrepresentable"],[75,39,34,39],[76,6,35,4],[77,6,36,4],[78,4,36,4],[79,6,36,4,"key"],[79,9,36,4],[80,6,36,4,"get"],[80,9,36,4],[80,11,37,4],[80,20,37,4,"get"],[80,21,37,4],[80,23,37,19],[81,8,38,8],[81,15,38,15],[81,19,38,19],[81,20,38,20,"ctx"],[81,23,38,23],[81,24,38,24,"override"],[81,32,38,32],[82,6,39,4],[83,6,40,4],[84,4,40,4],[85,6,40,4,"key"],[85,9,40,4],[86,6,40,4,"get"],[86,9,40,4],[86,11,41,4],[86,20,41,4,"get"],[86,21,41,4],[86,23,41,13],[87,8,42,8],[87,15,42,15],[87,19,42,19],[87,20,42,20,"ctx"],[87,23,42,23],[87,24,42,24,"io"],[87,26,42,26],[88,6,43,4],[89,6,44,4],[90,4,44,4],[91,6,44,4,"key"],[91,9,44,4],[92,6,44,4,"get"],[92,9,44,4],[92,11,45,4],[92,20,45,4,"get"],[92,21,45,4],[92,23,45,18],[93,8,46,8],[93,15,46,15],[93,19,46,19],[93,20,46,20,"ctx"],[93,23,46,23],[93,24,46,24,"counter"],[93,31,46,31],[94,6,47,4],[94,7,47,5],[95,6,47,5,"set"],[95,9,47,5],[95,11,48,4],[95,20,48,4,"set"],[95,21,48,16,"value"],[95,26,48,21],[95,28,48,23],[96,8,49,8],[96,12,49,12],[96,13,49,13,"ctx"],[96,16,49,16],[96,17,49,17,"counter"],[96,24,49,24],[96,27,49,27,"value"],[96,32,49,32],[97,6,50,4],[98,6,51,4],[99,4,51,4],[100,6,51,4,"key"],[100,9,51,4],[101,6,51,4,"get"],[101,9,51,4],[101,11,52,4],[101,20,52,4,"get"],[101,21,52,4],[101,23,52,15],[102,8,53,8],[102,15,53,15],[102,19,53,19],[102,20,53,20,"ctx"],[102,23,53,23],[102,24,53,24,"seen"],[102,28,53,28],[103,6,54,4],[104,4,54,5],[105,6,54,5,"key"],[105,9,54,5],[106,6,54,5,"value"],[106,11,54,5],[106,13,75,4],[106,22,75,4,"process"],[106,29,75,11,"process"],[106,30,75,12,"schema"],[106,36,75,18],[106,38,75,60],[107,8,75,60],[107,12,75,20,"_params"],[107,19,75,27],[107,22,75,27,"arguments"],[107,31,75,27],[107,32,75,27,"length"],[107,38,75,27],[107,46,75,27,"arguments"],[107,55,75,27],[107,63,75,27,"undefined"],[107,72,75,27],[107,75,75,27,"arguments"],[107,84,75,27],[107,90,75,30],[108,10,75,32,"path"],[108,14,75,36],[108,16,75,38],[108,18,75,40],[109,10,75,42,"schemaPath"],[109,20,75,52],[109,22,75,54],[110,8,75,57],[110,9,75,58],[111,8,76,8],[111,15,76,15],[111,16,76,16],[111,17,76,17],[111,19,76,19,"to_json_schema_js_1"],[111,38,76,38],[111,39,76,39,"process"],[111,46,76,46],[111,48,76,48,"schema"],[111,54,76,54],[111,56,76,56],[111,60,76,60],[111,61,76,61,"ctx"],[111,64,76,64],[111,66,76,66,"_params"],[111,73,76,73],[111,74,76,74],[112,6,77,4],[113,6,78,4],[114,0,79,0],[115,0,80,0],[116,0,81,0],[117,4,78,4],[118,6,78,4,"key"],[118,9,78,4],[119,6,78,4,"value"],[119,11,78,4],[119,13,82,4],[119,22,82,4,"emit"],[119,26,82,8,"emit"],[119,27,82,9,"schema"],[119,33,82,15],[119,35,82,17,"_params"],[119,42,82,24],[119,44,82,26],[120,8,83,8],[121,8,84,8],[121,12,84,12,"_params"],[121,19,84,19],[121,21,84,21],[122,10,85,12],[122,14,85,16,"_params"],[122,21,85,23],[122,22,85,24,"cycles"],[122,28,85,30],[122,30,86,16],[122,34,86,20],[122,35,86,21,"ctx"],[122,38,86,24],[122,39,86,25,"cycles"],[122,45,86,31],[122,48,86,34,"_params"],[122,55,86,41],[122,56,86,42,"cycles"],[122,62,86,48],[123,10,87,12],[123,14,87,16,"_params"],[123,21,87,23],[123,22,87,24,"reused"],[123,28,87,30],[123,30,88,16],[123,34,88,20],[123,35,88,21,"ctx"],[123,38,88,24],[123,39,88,25,"reused"],[123,45,88,31],[123,48,88,34,"_params"],[123,55,88,41],[123,56,88,42,"reused"],[123,62,88,48],[124,10,89,12],[124,14,89,16,"_params"],[124,21,89,23],[124,22,89,24,"external"],[124,30,89,32],[124,32,90,16],[124,36,90,20],[124,37,90,21,"ctx"],[124,40,90,24],[124,41,90,25,"external"],[124,49,90,33],[124,52,90,36,"_params"],[124,59,90,43],[124,60,90,44,"external"],[124,68,90,52],[125,8,91,8],[126,8,92,8],[126,9,92,9],[126,10,92,10],[126,12,92,12,"to_json_schema_js_1"],[126,31,92,31],[126,32,92,32,"extractDefs"],[126,43,92,43],[126,45,92,45],[126,49,92,49],[126,50,92,50,"ctx"],[126,53,92,53],[126,55,92,55,"schema"],[126,61,92,61],[126,62,92,62],[127,8,93,8],[127,12,93,14,"result"],[127,18,93,20],[127,21,93,23],[127,22,93,24],[127,23,93,25],[127,25,93,27,"to_json_schema_js_1"],[127,44,93,46],[127,45,93,47,"finalize"],[127,53,93,55],[127,55,93,57],[127,59,93,61],[127,60,93,62,"ctx"],[127,63,93,65],[127,65,93,67,"schema"],[127,71,93,73],[127,72,93,74],[128,8,94,8],[129,8,95,8],[129,12,95,29,"_"],[129,13,95,30],[129,16,95,51,"result"],[129,22,95,57],[129,23,95,16],[129,34,95,27],[130,10,95,35,"plainResult"],[130,21,95,46],[130,24,95,46,"_objectWithoutProperties"],[130,48,95,46],[130,49,95,51,"result"],[130,55,95,57],[130,57,95,57,"_excluded"],[130,66,95,57],[131,8,96,8],[131,15,96,15,"plainResult"],[131,26,96,26],[132,6,97,4],[133,4,97,5],[134,2,97,5],[135,2,99,0,"exports"],[135,9,99,7],[135,10,99,8,"JSONSchemaGenerator"],[135,29,99,27],[135,32,99,30,"JSONSchemaGenerator"],[135,51,99,49],[136,0,99,50],[136,3]],"functionMap":{"names":["<global>","JSONSchemaGenerator","JSONSchemaGenerator#get__metadataRegistry","JSONSchemaGenerator#get__target","JSONSchemaGenerator#get__unrepresentable","JSONSchemaGenerator#get__override","JSONSchemaGenerator#get__io","JSONSchemaGenerator#get__counter","JSONSchemaGenerator#set__counter","JSONSchemaGenerator#get__seen","JSONSchemaGenerator#constructor","JSONSchemaGenerator#process","JSONSchemaGenerator#emit"],"mappings":"AAA;ACsB;ICE;KDE;IEE;KFE;IGE;KHE;IIE;KJE;IKE;KLE;IME;KNE;IOC;KPE;IQE;KRE;ISC;KTe;IUK;KVE;IWK;KXe;CDC"},"hasCjsExports":true},"type":"js/module"}]}